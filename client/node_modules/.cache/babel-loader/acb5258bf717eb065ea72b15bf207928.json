{"ast":null,"code":"import _regeneratorRuntime from \"/Users/JoshFaison/gamr-database-react-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"/Users/JoshFaison/gamr-database-react-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/JoshFaison/gamr-database-react-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/JoshFaison/gamr-database-react-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/JoshFaison/gamr-database-react-app/client/src/components/Popular.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Button, ListGroup, ListGroupItem } from 'reactstrap';\nimport GameList from './GameList';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown, faGamepad } from '@fortawesome/free-solid-svg-icons';\nimport { faPlaystation, faXbox } from '@fortawesome/free-brands-svg-icons';\nimport { ReactSVG } from 'react-svg';\nimport NintendoSwitch from \"../svg/nintendo-switch.svg\";\nimport api from '../utils/api';\n\nvar Popular = function Popular(props) {\n  var _React$createElement;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeItem = _useState2[0],\n      setActiveItem = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      allPopular = _useState4[0],\n      setAllPopular = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      xboxPop = _useState6[0],\n      setXboxPop = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      psPop = _useState8[0],\n      setPSPop = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      switchPop = _useState10[0],\n      setSwitchPop = _useState10[1];\n\n  var _useState11 = useState(4),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showItems = _useState12[0],\n      setShowItems = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      updateTrigger = _useState14[0],\n      setUpdateTrigger = _useState14[1];\n\n  function updateShowItems() {\n    return _updateShowItems.apply(this, arguments);\n  }\n\n  function _updateShowItems() {\n    _updateShowItems = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setShowItems(showItems + 4);\n\n              if (showItems >= 20) {\n                setUpdateTrigger(true);\n              }\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _updateShowItems.apply(this, arguments);\n  }\n\n  function getPopular() {\n    return _getPopular.apply(this, arguments);\n  }\n\n  function _getPopular() {\n    _getPopular = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return api.popularAll();\n\n            case 2:\n              res = _context2.sent;\n              setAllPopular(res.data);\n              setActiveItem(0);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _getPopular.apply(this, arguments);\n  }\n\n  function getXbox() {\n    return _getXbox.apply(this, arguments);\n  }\n\n  function _getXbox() {\n    _getXbox = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return api.popularXboxOne();\n\n            case 2:\n              res = _context3.sent;\n              setXboxPop(res.data);\n              setActiveItem(1);\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _getXbox.apply(this, arguments);\n  }\n\n  function getPS4() {\n    return _getPS.apply(this, arguments);\n  }\n\n  function _getPS() {\n    _getPS = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return api.popularPS4();\n\n            case 2:\n              res = _context4.sent;\n              setPSPop(res.data);\n              setActiveItem(2);\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _getPS.apply(this, arguments);\n  }\n\n  function getSwitch() {\n    return _getSwitch.apply(this, arguments);\n  }\n\n  function _getSwitch() {\n    _getSwitch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return api.popularSwitch();\n\n            case 2:\n              res = _context5.sent;\n              setSwitchPop(res.data);\n              setActiveItem(3);\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _getSwitch.apply(this, arguments);\n  }\n\n  function getGames() {\n    if (activeItem === 1) {\n      return xboxPop;\n    }\n\n    if (activeItem === 2) {\n      return psPop;\n    }\n\n    if (activeItem === 3) {\n      return switchPop;\n    }\n\n    return allPopular;\n  }\n\n  useEffect(function () {\n    getPopular();\n  }, []);\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"py-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"border-bottom-red mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"Popular\")), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"border-right\",\n    sm: \"12\",\n    md: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListGroupItem, {\n    tag: \"a\",\n    action: true,\n    className: activeItem === 0 ? \"active\" : \"\",\n    onClick: getPopular,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"fab mr-2\",\n    icon: faGamepad,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 109\n    }\n  }), \"All\"), /*#__PURE__*/React.createElement(ListGroupItem, {\n    tag: \"a\",\n    action: true,\n    className: activeItem === 1 ? \"active\" : \"\",\n    onClick: getXbox,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"fab mr-2\",\n    icon: faXbox,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 106\n    }\n  }), \"Xbox One\"), /*#__PURE__*/React.createElement(ListGroupItem, {\n    tag: \"a\",\n    action: true,\n    className: activeItem === 2 ? \"active\" : \"\",\n    onClick: getPS4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"fab mr-2\",\n    icon: faPlaystation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 105\n    }\n  }), \"Playstation 4\"), /*#__PURE__*/React.createElement(ListGroupItem, (_React$createElement = {\n    className: \"d-flex align-items-center\",\n    tag: \"a\",\n    action: true\n  }, _defineProperty(_React$createElement, \"className\", activeItem === 3 ? \"active\" : \"\"), _defineProperty(_React$createElement, \"onClick\", getSwitch), _defineProperty(_React$createElement, \"__self\", _this), _defineProperty(_React$createElement, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 13\n  }), _React$createElement), /*#__PURE__*/React.createElement(ReactSVG, {\n    className: \"float-left mr-2\",\n    src: NintendoSwitch,\n    beforeInjection: function beforeInjection(svg) {\n      svg.setAttribute('style', 'width: 1rem');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 146\n    }\n  }), \"Nintendo Switch\"))), /*#__PURE__*/React.createElement(Col, {\n    sm: \"12\",\n    md: \"8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GameList, {\n    games: getGames(),\n    showItems: showItems,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: updateShowItems,\n    className: updateTrigger === true ? \"mx-auto d-none\" : \"mx-auto\",\n    id: \"update-trigger\",\n    color: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Load More \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"fas\",\n    icon: faChevronDown,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 157\n    }\n  }))))));\n};\n\nexport default Popular;","map":{"version":3,"sources":["/Users/JoshFaison/gamr-database-react-app/client/src/components/Popular.js"],"names":["React","useState","useEffect","Container","Row","Col","Button","ListGroup","ListGroupItem","GameList","FontAwesomeIcon","faChevronDown","faGamepad","faPlaystation","faXbox","ReactSVG","api","Popular","props","activeItem","setActiveItem","allPopular","setAllPopular","xboxPop","setXboxPop","psPop","setPSPop","switchPop","setSwitchPop","showItems","setShowItems","updateTrigger","setUpdateTrigger","updateShowItems","getPopular","popularAll","res","data","getXbox","popularXboxOne","getPS4","popularPS4","getSwitch","popularSwitch","getGames","NintendoSwitch","svg","setAttribute"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react';\nimport { Container, Row, Col, Button, ListGroup, ListGroupItem} from 'reactstrap';\nimport GameList from './GameList';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {faChevronDown, faGamepad} from '@fortawesome/free-solid-svg-icons';\nimport { faPlaystation, faXbox  }from '@fortawesome/free-brands-svg-icons';\nimport {ReactSVG} from 'react-svg';\nimport NintendoSwitch from '../svg/nintendo-switch.svg';\n\nimport api from '../utils/api';\n\n\nconst Popular = (props) => {\n\n  const [activeItem, setActiveItem] = useState(0)\n  const [ allPopular, setAllPopular ] = useState([]);\n  const [ xboxPop, setXboxPop ] = useState([]);\n  const [ psPop, setPSPop ] = useState([]);\n  const [ switchPop, setSwitchPop ] = useState([]);\n  const [showItems, setShowItems] = useState(4);\n  const [updateTrigger, setUpdateTrigger] = useState(false);\n\n\n\n  async function updateShowItems() {\n    setShowItems(showItems + 4 ) ;\n    if(showItems >= 20){\n      setUpdateTrigger(true);\n    }\n  }\n\n  async function getPopular(){\n\n    const res = await api.popularAll();\n\n    setAllPopular(res.data);\n\n    setActiveItem(0);\n  }\n\n  async function getXbox() {\n    const res = await api.popularXboxOne();\n\n    setXboxPop(res.data);\n\n    setActiveItem(1)\n  }\n\n  async function getPS4() {\n    const res = await api.popularPS4();\n\n    setPSPop(res.data);\n\n    setActiveItem(2)\n  }\n\n  async function getSwitch(){\n\n    const res = await api.popularSwitch();\n\n    setSwitchPop(res.data);\n\n    setActiveItem(3);\n  }\n\n\n  function getGames() {\n    if (activeItem === 1) {\n      return xboxPop;\n    }\n    if (activeItem === 2) {\n      return psPop;\n    }\n    if (activeItem === 3){\n      return switchPop;\n    }\n    return allPopular;\n  }\n\n  useEffect(() => {\n    getPopular();\n\n  } ,[])\n  return(\n    <Container className='py-3'>\n      <Row>\n        <h2 className='border-bottom-red mb-3'>Popular</h2>\n      </Row>\n      <Row>\n        <Col className='border-right' sm='12' md='4'>\n          <ListGroup>\n            <ListGroupItem tag='a' action className={activeItem === 0 ? \"active\" : \"\"} onClick={getPopular}><FontAwesomeIcon className='fab mr-2' icon={faGamepad} />All</ListGroupItem>\n            <ListGroupItem tag='a' action className={activeItem === 1 ? \"active\" : \"\"} onClick={getXbox}><FontAwesomeIcon className='fab mr-2' icon={faXbox}  />Xbox One</ListGroupItem>\n            <ListGroupItem tag='a' action className={activeItem === 2 ? \"active\" : \"\"} onClick={getPS4}><FontAwesomeIcon className='fab mr-2' icon={faPlaystation}  />Playstation 4</ListGroupItem>\n            <ListGroupItem className='d-flex align-items-center' tag='a' action className={activeItem === 3 ? \"active\" : \"\"} onClick={getSwitch}><ReactSVG className='float-left mr-2' src={NintendoSwitch} beforeInjection={svg => {svg.setAttribute('style', 'width: 1rem')}}/>Nintendo Switch</ListGroupItem>\n          </ListGroup>\n        </Col>\n        <Col sm='12' md='8'>\n          <Row>\n          <GameList games={getGames()} showItems={showItems}/>\n            <Button  onClick={updateShowItems} className={updateTrigger === true ? \"mx-auto d-none\" : \"mx-auto\"} id='update-trigger' color='link'>Load More <FontAwesomeIcon className='fas' icon={faChevronDown} /></Button>\n          </Row>\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\nexport default Popular;\n"]},"metadata":{},"sourceType":"module"}