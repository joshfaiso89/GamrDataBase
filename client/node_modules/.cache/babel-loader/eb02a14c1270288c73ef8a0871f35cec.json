{"ast":null,"code":"import _classCallCheck from \"/Users/JoshFaison/gamr-database-react-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/JoshFaison/gamr-database-react-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/JoshFaison/gamr-database-react-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/JoshFaison/gamr-database-react-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/JoshFaison/gamr-database-react-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/JoshFaison/gamr-database-react-app/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport Home from \"./pages/Home.js\";\nimport LoginPage from \"./pages/LoginPage.js\";\nimport Register from './pages/Register';\nimport Profile from './pages/Profile';\nimport Game from './pages/Game';\nimport MainNav from \"./components/MainNav.js\";\nimport api from \"./utils/api\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: \"\",\n      isLogin: false\n    };\n\n    _this.handleOnSubmit = function (loggedIn) {\n      var userData = {\n        email: _this.state.email,\n        password: _this.state.password\n      };\n      console.log('USER DATA', userData);\n      api.login(userData).then(function (response) {\n        console.log(response.data);\n        sessionStorage.setItem(\"email\", response.data.email);\n\n        _this.setState({\n          Redirect: true,\n          email: response.data.email\n        });\n\n        if (loggedIn === false && response.data.email === undefined) {\n          sessionStorage.setItem(\"email\", \"\");\n          window.location.href = \"/\";\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      api.getUser().then(function (res) {\n        console.log(res.data.email, \"email\");\n\n        if (res.data.email.length > 0) {\n          _this2.setState({\n            isLogin: true\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Router, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 7\n        }\n      }, window.location.pathname != \"/login\" ? /*#__PURE__*/React.createElement(MainNav, {\n        handleOnSubmit: this.handleOnSubmit,\n        email: this.state.email != undefined ? this.state.email : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 49\n        }\n      }) : \"\", /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: '/login',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(LoginPage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: '/register',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Register, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: '/',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Home, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: '/profile',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Profile, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: '/games/:id',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Game, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/JoshFaison/gamr-database-react-app/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","Redirect","Home","LoginPage","Register","Profile","Game","MainNav","api","App","state","email","isLogin","handleOnSubmit","loggedIn","userData","password","console","log","login","then","response","data","sessionStorage","setItem","setState","undefined","window","location","href","getUser","res","length","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport Home from \"./pages/Home.js\";\nimport LoginPage from \"./pages/LoginPage.js\";\nimport Register from './pages/Register';\nimport Profile from './pages/Profile';\nimport Game from './pages/Game';\nimport MainNav from \"./components/MainNav.js\";\nimport api from \"./utils/api\";\n\nclass App extends Component {\n  state = {\n    email: \"\",\n    isLogin: false\n  }\n\n  handleOnSubmit = (loggedIn) => {\n    const userData = {\n        email: this.state.email,\n        password: this.state.password\n    }\n    \n    console.log('USER DATA', userData);\n\n     api.login(userData).then(response => {\n         console.log(response.data);\n         sessionStorage.setItem(\"email\", response.data.email)\n         this.setState({Redirect: true, email : response.data.email});\n         if(loggedIn === false && response.data.email === undefined) {\n           sessionStorage.setItem(\"email\", \"\")\n           window.location.href=\"/\"\n         }\n     }) \n }\n\n  componentDidMount() {\n    api.getUser().then(res => {\n      console.log(res.data.email, \"email\");\n      if(res.data.email.length > 0 ) {\n        this.setState({ isLogin : true})\n      } \n      \n    })\n  }\n  render() {\n    return (\n      <Router>\n\n        {window.location.pathname != \"/login\" ? <MainNav handleOnSubmit={this.handleOnSubmit} email={this.state.email != undefined ? this.state.email : \"\"}/> : \"\"}\n        \n        <Switch>\n          <Route exact path={'/login'}>\n            <LoginPage />\n          </Route>\n          <Route exact path={'/register'}>\n            <Register />\n          </Route>\n          <Route exact path={'/'}>\n          <Home />\n          </Route>\n          <Route exact path={'/profile'}>\n            <Profile />\n          </Route>\n        </Switch>\n      <Switch>\n        <Route path={'/games/:id'}>\n          <Game />\n        </Route>\n      </Switch>\n    </Router>\n    )\n  }\n  \n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}